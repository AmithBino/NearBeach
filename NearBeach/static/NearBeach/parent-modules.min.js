"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7262],{1291:(e,t,i)=>{i.r(t),i.d(t,{default:()=>cn});var s=i(6252);const l={class:"card"},n={class:"card-body"},o={class:"nav nav-tabs",id:"misc_module_tabs",role:"tablist"},a={key:0,class:"nav-item",role:"presentation"},r=[(0,s._)("button",{class:"nav-link active",id:"group-and-user-tab","data-bs-toggle":"tab","data-bs-target":"#group-and-users",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Groups and Users ",-1)],d={key:1,class:"nav-item",role:"presentation"},u=[(0,s._)("button",{class:"nav-link",id:"requirement-item-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-items",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Requirement Item ",-1)],c={key:2,class:"nav-item",role:"presentation"},m=[(0,s._)("button",{class:"nav-link",id:"requirement-link-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Requirement Links ",-1)],p={key:3,class:"nav-item",role:"presentation"},_=[(0,s._)("button",{class:"nav-link",id:"requirement-item-link-tab","data-bs-toggle":"tab","data-bs-target":"#requirement-item-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Links ",-1)],b=(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"documents-tab","data-bs-toggle":"tab","data-bs-target":"#documents",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Documents ")],-1),h={key:4,class:"nav-item",role:"presentation"},k=[(0,s._)("button",{class:"nav-link",id:"object-link-tabs","data-bs-toggle":"tab","data-bs-target":"#object-links",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Linked Objects ",-1)],g={key:5,class:"nav-item",role:"presentation"},v=[(0,s._)("button",{class:"nav-link",id:"customer-tab","data-bs-toggle":"tab","data-bs-target":"#customers",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Customers ",-1)],y={key:6,class:"nav-item",role:"presentation"},w=[(0,s._)("button",{class:"nav-link",id:"bug-tab","data-bs-toggle":"tab","data-bs-target":"#bugs",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Bugs ",-1)],q=(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"misc-tab","data-bs-toggle":"tab","data-bs-target":"#misc",type:"button",role:"tab","aria-controls":"home","aria-selected":"false"}," Misc ")],-1),f=(0,s._)("li",{class:"nav-item",role:"presentation"},[(0,s._)("button",{class:"nav-link",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes",type:"button",role:"tab","aria-controls":"home","aria-select":"false"}," Notes ")],-1),S=(0,s._)("hr",null,null,-1),I={class:"tab-content",id:"misc_module_content"},L={key:0,class:"tab-pane fade show active",id:"group-and-users",role:"tabpanel","aria-labelledby":"contact-tab"},D={key:1,class:"tab-pane fade",id:"requirement-items",role:"tabpanel","aria-labelledby":"home-tab"},j={key:2,class:"tab-pane fade",id:"requirement-links",role:"tabpanel","aria-labelledby":"profile-tab"},R={key:3,class:"tab-pane fade",id:"requirement-item-links",role:"tabpanel","aria-labelledby":"profile-tab"},M={class:"tab-pane fade",id:"documents",role:"tabpanel","aria-labelledby":"contact-tab"},U={class:"tab-pane fade",id:"object-links",role:"tabpanel","aria-labelledby":"contact-tab"},C={class:"tab-pane fade",id:"customers",role:"tabpanel","aria-labelledby":"contact-tab"},T={class:"tab-pane fade",id:"bugs",role:"tabpanel","aria-labelledby":"contact-tab"},O={class:"tab-pane fade",id:"misc",role:"tabpanel","aria-labelledby":"contact-tab"},$={class:"tab-pane fade",id:"notes",role:"tabpanel","aria-labelledby":"contact-tab"};var x=i(7284),E=i(3577);const B=(0,s.Uk)(" Requirement Items "),N=(0,s._)("p",{class:"text-instructions"}," Requirements should be broken down into smaller components called Requirement Items. ",-1),W={key:0,class:"requirement-item-spacer"},Z=[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no Items for this requirement. ",-1)],A={key:1},P={class:"table"},H=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",{width:"75%"},"Requirement Item"),(0,s._)("td",{width:"25%"},"Status")])],-1),F=["href"],K=(0,s._)("div",{class:"spacer"},null,-1),z={class:"small-text"},J={key:2},Y={key:3,class:"row submit-row"},G={class:"col-md-12"};var V=i(5169),Q=i(6542),X=i(9669),ee=i.n(X),te=i(9963);const ie={class:"modal fade",id:"newItemModal",tabindex:"-1","aria-labelledby":"requirementItemModal","aria-hidden":"true"},se={class:"modal-dialog modal-xl modal-fullscreen-lg-down"},le={class:"modal-content"},ne={class:"modal-header"},oe=(0,s.Uk)(" New Requirement Item Wizard "),ae=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"requirementItemCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})],-1),re={class:"modal-body"},de={class:"row"},ue=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Description"),(0,s._)("p",{class:"text-instructions"}," Place in a detailed description of this requirement item. This particular item can be then connected to Project or Tasks. ")],-1),ce={class:"col-md-8"},me={for:"id_requirement_item_title"},pe=(0,s.Uk)("Requirement Item Title: "),_e={key:0,class:"error"},be=(0,s._)("br",null,null,-1),he=(0,s.Uk)("Requirement Item Scope: "),ke={key:0,class:"error"},ge={key:1,class:"error"},ve=(0,s._)("br",null,null,-1),ye=(0,s._)("hr",null,null,-1),we={class:"row"},qe=(0,s._)("div",{class:"col-md-4"},[(0,s._)("h2",null,"Status"),(0,s._)("p",{class:"text-instructions"}," Set the Requirement Status and Type here. ")],-1),fe={class:"col-md-4"},Se={class:"form-group"},Ie=(0,s.Uk)("Requirement Status "),Le={key:0,class:"error"},De={class:"col-md-4"},je={class:"form-group"},Re=(0,s.Uk)("Requirement Type "),Me={key:0,class:"error"},Ue={class:"modal-footer"},Ce=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);var Te=i(9860),Oe=i(7267),$e=i(3058),xe=i(5808),Ee=i(4028),Be=i(2587),Ne=i(4250);const We={name:"NewRequirementItemWizard",setup:()=>({v$:(0,Ee.ZP)()}),components:{editor:Oe.Z,Icon:Q.JO,NSelect:Te.Z},props:{itemStatusList:{type:Array,default:()=>[]},itemTypeList:{type:Array,default:()=>[]},locationId:{type:Number,default:0}},mixins:[$e.Z,xe.Z],data:()=>({requirementItemScopeModel:"",requirementItemTitleModel:"",statusItemFixList:[],statusItemModel:"",typeItemFixList:[],typeItemModel:""}),computed:{...(0,Ne.Se)({rootUrl:"getRootUrl"})},validations:{requirementItemScopeModel:{required:Be.C1,maxLength:(0,Be.BS)(63e4)},requirementItemTitleModel:{required:Be.C1},statusItemModel:{required:Be.C1},typeItemModel:{required:Be.C1}},methods:{saveItem(){if(this.v$.$touch(),this.v$.$invalid)return;const e=new FormData;e.set("requirement_item_title",this.requirementItemTitleModel),e.set("requirement_item_scope",this.requirementItemScopeModel),e.set("requirement_item_status",this.statusItemModel),e.set("requirement_item_type",this.typeItemModel),ee().post(`${this.rootUrl}new_requirement_item/save/${this.locationId}/`,e).then((e=>{this.requirementItemScopeModel="",this.requirementItemTitleModel="",this.statusItemModel="",this.typeItemModel="",this.$emit("new_item_added",e.data),document.getElementById("requirementItemCloseButton").click()})).catch((e=>{this.showErrorModal(e,this.destination)}))}},watch:{itemStatusList(){this.statusItemFixList=this.itemStatusList.map((e=>({value:e.pk,label:e.fields.requirement_item_status})))},itemTypeList(){this.typeItemFixList=this.itemTypeList.map((e=>({value:e.pk,label:e.fields.requirement_item_type})))}}};var Ze=i(3744);const Ae=(0,Ze.Z)(We,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("editor"),d=(0,s.up)("n-select");return(0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",se,[(0,s._)("div",le,[(0,s._)("div",ne,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.clipboardIcon},null,8,["icon"]),oe]),ae]),(0,s._)("div",re,[(0,s._)("div",de,[ue,(0,s._)("div",ce,[(0,s._)("label",me,[pe,l.v$.requirementItemTitleModel.required?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",_e," Please suppy a title."))]),(0,s.wy)((0,s._)("input",{id:"id_requirement_item_title",class:"form-control",name:"requirement_item_title",type:"text",required:"true",maxlength:"255","onUpdate:modelValue":t[0]||(t[0]=e=>n.requirementItemTitleModel=e)},null,512),[[te.vModelText,n.requirementItemTitleModel]]),be,(0,s._)("label",null,[he,!l.v$.requirementItemScopeModel.required&&l.v$.requirementItemScopeModel.$dirty?((0,s.wg)(),(0,s.iD)("span",ke," Please supply a scope.")):(0,s.kq)("v-if",!0),l.v$.requirementItemScopeModel.maxLength?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",ge," Sorry - too many characters."))]),ve,(0,s.Wm)(r,{init:{height:500,menubar:!1,plugins:["lists","table"],toolbar:["undo redo | formatselect | alignleft aligncenter alignright alignjustify","bold italic strikethrough underline backcolor | table | bullist numlist outdent indent | removeformat"]},content_css:!1,skin:!1,modelValue:n.requirementItemScopeModel,"onUpdate:modelValue":t[1]||(t[1]=e=>n.requirementItemScopeModel=e)},null,8,["modelValue"])])]),(0,s.kq)(" Status "),ye,(0,s._)("div",we,[qe,(0,s._)("div",fe,[(0,s._)("div",Se,[(0,s._)("label",null,[Ie,!l.v$.statusItemModel.required&&l.v$.statusItemModel.$dirty?((0,s.wg)(),(0,s.iD)("span",Le," Please select a status.")):(0,s.kq)("v-if",!0)]),(0,s.Wm)(d,{options:n.statusItemFixList,label:"status",value:n.statusItemModel,"onUpdate:value":t[2]||(t[2]=e=>n.statusItemModel=e)},null,8,["options","value"])])]),(0,s._)("div",De,[(0,s._)("div",je,[(0,s._)("label",null,[Re,!l.v$.typeItemModel.required&&l.v$.typeItemModel.$dirty?((0,s.wg)(),(0,s.iD)("span",Me," Please select a type.")):(0,s.kq)("v-if",!0)]),(0,s.Wm)(d,{options:n.typeItemFixList,label:"type",value:n.typeItemModel,"onUpdate:value":t[3]||(t[3]=e=>n.typeItemModel=e)},null,8,["options","value"])])])])]),(0,s.kq)(" FOOTERS "),(0,s._)("div",Ue,[Ce,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>o.saveItem&&o.saveItem(...e))}," Save Requirement Item ")])])])])}]]),Pe={name:"RequirementItemsModule",components:{Icon:Q.JO,NewRequirementItemWizard:Ae},mixins:[xe.Z],data:()=>({itemResults:[],itemStatusList:[],itemTypeList:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{createNewItem(){new V.u_(document.getElementById("newItemModal")).show()},getStatus(e){var t=this.itemStatusList.filter((t=>t.pk==e));return 0==t.length?"Unknown Status":t[0].fields.requirement_item_status},getType(e){var t=this.itemTypeList.filter((t=>t.pk==e));return 0==t.length?"Unknown Type":t[0].fields.requirement_item_type},new_item_added(e){this.itemResults=e},updateItemResults(){ee().post("data/items/").then((e=>{this.itemResults=[],e.data.forEach((e=>{this.itemResults.push(e)}))}))},updateStatusList(){ee().post("data/item_status/").then((e=>{this.itemStatusList=[],e.data.forEach((e=>{this.itemStatusList.push(e)}))}))},updateTypeList(){ee().post("data/item_type/").then((e=>{this.itemTypeList=[],e.data.forEach((e=>{this.itemTypeList.push(e)}))}))}},mounted(){this.updateStatusList(),this.updateTypeList(),this.updateItemResults()}},He=(0,Ze.Z)(Pe,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("new-requirement-item-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.clipboardIcon},null,8,["icon"]),B]),N,(0,s.kq)(" TABLE OF REQUIREMENT ITEMS "),0===n.itemResults.length?((0,s.wg)(),(0,s.iD)("div",W,Z)):((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("table",P,[H,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.itemResults,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.pk},[(0,s._)("td",null,[(0,s._)("a",{href:`${e.rootUrl}requirement_item_information/${t.pk}/`},[(0,s._)("p",null,(0,E.toDisplayString)(t.fields.requirement_item_title),1),K,(0,s._)("p",z," Item No. "+(0,E.toDisplayString)(t.pk)+" - "+(0,E.toDisplayString)(o.getType(t.fields.requirement_item_type)),1)],8,F)]),(0,s._)("td",null,(0,E.toDisplayString)(o.getStatus(t.fields.requirement_item_status)),1)])))),128))])])])),(0,s.kq)(" Submit Button "),(0,s.kq)(" TO DO - limit it to certain users "),e.userLevel>1?((0,s.wg)(),(0,s.iD)("hr",J)):(0,s.kq)("v-if",!0),e.userLevel>1?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("div",G,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>o.createNewItem&&o.createNewItem(...e)),class:"btn btn-primary save-changes"}," Create new Requirement Item ")])])):(0,s.kq)("v-if",!0),(0,s.kq)(" NEW REQUIREMENT ITEM MODAL "),(0,s.Wm)(r,{"item-status-list":n.itemStatusList,"item-type-list":n.itemTypeList,"location-id":e.locationId,onNew_item_added:t[1]||(t[1]=e=>o.new_item_added(e))},null,8,["item-status-list","item-type-list","location-id"])])}]]),Fe=(0,s.Uk)(" Requirement Item Links "),Ke=(0,s._)("p",{class:"text-instructions"}," The following are links for the Items to other projects/tasks. ",-1),ze={key:0},Je=[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no Item Links. Please navigate to the Item you wish to add a link too. ",-1)],Ye={key:1},Ge={class:"table"},Ve=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",{width:"75%"},"Object Description"),(0,s._)("td",{width:"25%"},"Status")])],-1),Qe=["innerHTML"],Xe={key:2},et={key:3,class:"row submit-row"},tt={class:"col-md-12"},it={class:"modal fade",id:"newRequirementLinkModal",tabindex:"-1","aria-labelledby":"requirementLinkModal","aria-hidden":"true"},st={class:"modal-dialog modal-lg"},lt={class:"modal-content"},nt={class:"modal-header"},ot=(0,s.Uk)(" New Requirement Link Wizard "),at=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"requirementLinkCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})],-1),rt={class:"modal-body"},dt={class:"row"},ut=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Object Selector"),(0,s._)("p",{class:"text-instructions"}," Please select which object you would like to link to this requirement. ")],-1),ct={class:"col-md-8"},mt={class:"form-group"},pt=(0,s._)("label",null,"Object Selection",-1),_t=(0,s._)("hr",null,null,-1),bt={class:"row"},ht=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Select Links"),(0,s._)("p",{class:"text-instructions"}," Please select which of the objects you want to connect to this requirement. ")],-1),kt={class:"col-md-8"},gt={key:0,id:"link_wizard_results"},vt=["src"],yt={key:1,class:"alert alert-warning"},wt={key:2,class:"form-group"},qt=(0,s._)("label",null,"Search Terms",-1),ft=(0,s._)("br",null,null,-1),St={key:3,class:"table"},It=(0,s._)("td",null,"Status",-1),Lt={key:0},Dt={class:"form-check"},jt=["value","id"],Rt=["for"],Mt=(0,s._)("div",{class:"spacer"},null,-1),Ut={class:"small-text"},Ct={key:1},Tt={class:"form-check"},Ot=["value","id"],$t=["for"],xt=(0,s._)("div",{class:"spacer"},null,-1),Et={class:"small-text"},Bt={class:"modal-footer"},Nt=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),Wt=["disabled"],Zt={name:"NewRequirementLinkWizard",components:{Icon:Q.JO,NSelect:Te.Z},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,Ne.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[$e.Z,xe.Z],data:()=>({isSearching:!1,linkModel:[],objectModel:null,objectFilteredResults:[],objectResults:[],objectSelection:[{value:"Project",label:"Project"},{value:"Task",label:"Task"}],searchTermModel:""}),methods:{saveLinks(){const e=new FormData;this.linkModel.forEach((t=>{e.append(`${this.objectModel.toLowerCase()}`,t)})),ee().post(`${this.rootUrl}${this.destination}_information/${this.locationId}/add_link/`,e).then((e=>{this.$emit("update_module",e.data),document.getElementById("requirementLinkCloseButton").click(),this.objectModel=null}))}},watch:{objectModel(){this.linkModel=[],null!==this.objectModel?(this.isSearching=!0,ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/${this.objectModel.toLowerCase()}/link_list/`).then((e=>{this.objectResults=e.data,this.objectFilteredResults=e.data,this.isSearching=!1,this.searchTermModel=""})).catch((e=>{this.showErrorModal(e,this.destination)}))):this.isSearching=!1},searchTermModel(){""!==this.searchTermModel&&null!==this.searchTermModel?this.objectFilteredResults=this.objectResults.filter((e=>{let t="";return t=void 0!==e.fields.project_description?e.fields.project_description.toLowerCase():e.fields.task_short_description.toLowerCase(),t.includes(this.searchTermModel.toLowerCase())})):this.objectFilteredResults=this.objectResults}}},At=(0,Ze.Z)(Zt,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("n-select");return(0,s.wg)(),(0,s.iD)("div",it,[(0,s._)("div",st,[(0,s._)("div",lt,[(0,s._)("div",nt,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkOut},null,8,["icon"]),ot]),at]),(0,s._)("div",rt,[(0,s.kq)(" CHOOSING A OBJECT TYPE "),(0,s._)("div",dt,[ut,(0,s._)("div",ct,[(0,s._)("div",mt,[pt,(0,s.Wm)(r,{options:n.objectSelection,value:n.objectModel,"onUpdate:value":t[0]||(t[0]=e=>n.objectModel=e),class:"object-selection"},null,8,["options","value"])])])]),_t,(0,s.kq)(" SELECTING WHICH OBJECTS TO LINK TO "),(0,s._)("div",bt,[ht,(0,s._)("div",kt,[(0,s.kq)(" LOADING PLACEHOLDER "),n.isSearching||null==n.objectModel?((0,s.wg)(),(0,s.iD)("div",gt,[(0,s._)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/search.svg`,alt:"Searching..."},null,8,vt)])):(0,s.kq)("v-if",!0),0==n.objectResults.length&&null!=n.objectModel?((0,s.wg)(),(0,s.iD)("div",yt," Sorry - there are no results. ")):(0,s.kq)("v-if",!0),(0,s.kq)(" SEARCH RESULTS "),!n.isSearching&&n.objectResults.length>0&&null!=n.objectModel?((0,s.wg)(),(0,s.iD)("div",wt,[qt,(0,s.wy)((0,s._)("input",{id:"search_terms",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchTermModel=e),type:"text"},null,512),[[te.vModelText,n.searchTermModel]])])):(0,s.kq)("v-if",!0),ft,(0,s.kq)(" TABLE CONTAINING RESULTS "),!n.isSearching&&n.objectResults.length>0&&null!=n.objectModel?((0,s.wg)(),(0,s.iD)("table",St,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,(0,E.toDisplayString)(n.objectModel)+" Description",1),It])]),(0,s.kq)(" PROJECTS "),"Project"==n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",Lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectFilteredResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",Dt,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_project_${e.pk}`,"onUpdate:modelValue":t[2]||(t[2]=e=>n.linkModel=e)},null,8,jt),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_project_${e.pk}`},(0,E.toDisplayString)(e.fields.project_name),9,Rt)]),Mt,(0,s._)("p",Ut," Project "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.project_status),1)])))),128))])):(0,s.kq)("v-if",!0),(0,s.kq)(" TASKS "),"Task"==n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",Ct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectFilteredResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",Tt,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_task_${e.pk}`,"onUpdate:modelValue":t[3]||(t[3]=e=>n.linkModel=e)},null,8,Ot),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_task_${e.pk}`},(0,E.toDisplayString)(e.fields.task_short_description),9,$t)]),xt,(0,s._)("p",Et," Task "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.task_status),1)])))),128))])):(0,s.kq)("v-if",!0)])):(0,s.kq)("v-if",!0)])])]),(0,s._)("div",Bt,[Nt,(0,s._)("button",{type:"button",class:"btn btn-primary",disabled:0==n.linkModel.length,onClick:t[4]||(t[4]=(...e)=>o.saveLinks&&o.saveLinks(...e))}," Save changes ",8,Wt)])])])])}]]),Pt={name:"RequirementItemLinksModule",components:{Icon:Q.JO,NewRequirementLinkWizard:At},mixins:[xe.Z],data:()=>({itemLinkResults:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{extractObjectDescription(e){var t="ERROR",i="ERROR",s="/",l="";return null!==e.project_id?(t=e.project_id__project_name,i=`Project ${e.project_id}`,s=`${this.rootUrl}project_information/${e.project_id}`):null!==e.task_id&&(t=e.task_id__task_short_description,i=`Task ${e.task_id}`,s=`${this.rootUrl}task_information/${e.task_id}`),null!==e.requirement_id&&(l=`<p class="requirement-item-link-type">${e.requirement_item_id__requirement_item_title}</p>`,i=`${i} / Item ${e.requirement_id}`),`\n                    <a href="${s}">\n                        <p>\n                            ${t}\n                        </p>\n                        <div class="spacer"></div>\n                        ${l}\n                        <p class="requirement-link-type">\n                            ${i}\n                        </p>\n                    </a>\n                `},extractObjectStatus(e){var t="ERROR";return null!==e.project_id?t=e.project_id__project_status:null!==e.task_id&&(t=e.task_id__task_status),t},updateLinkResults(){ee().post("data/links/").then((e=>{this.itemLinkResults=e.data}))},newRequirementItemLink(){new V.u_(document.getElementById("newRequirementLinkModal")).show()},updateModel(e){this.itemLinkResults=e}},mounted(){this.updateLinkResults()}},Ht=(0,Ze.Z)(Pt,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("new-requirement-link-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkIcon2},null,8,["icon"]),Fe]),Ke,(0,s.kq)(" ITEM LINKS "),0===n.itemLinkResults.length?((0,s.wg)(),(0,s.iD)("div",ze,Je)):((0,s.wg)(),(0,s.iD)("div",Ye,[(0,s._)("table",Ge,[Ve,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.itemLinkResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",{innerHTML:o.extractObjectDescription(e)},null,8,Qe),(0,s._)("td",null,(0,E.toDisplayString)(o.extractObjectStatus(e)),1)])))),128))])])])),(0,s.kq)(" Submit Button "),(0,s.kq)(" TO DO - limit it to certain users "),e.userLevel>1?((0,s.wg)(),(0,s.iD)("hr",Xe)):(0,s.kq)("v-if",!0),e.userLevel>1?((0,s.wg)(),(0,s.iD)("div",et,[(0,s._)("div",tt,[(0,s._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>o.newRequirementItemLink&&o.newRequirementItemLink(...e))},"Create new Link")])])):(0,s.kq)("v-if",!0),(0,s.kq)(" LINKING MODAL "),(0,s.kq)(" need to build something that resets the requirement links when adding links "),(0,s.Wm)(r,{"location-id":e.locationId,destination:e.destination,onUpdate_module:t[1]||(t[1]=e=>o.updateModel(e))},null,8,["location-id","destination"])])}]]),Ft=(0,s.Uk)(" Requirement Links"),Kt=(0,s._)("p",{class:"text-instructions"}," The following are links to other projects/tasks. You can link a Requirement to these other objects to symbolise a connection between the two. ",-1),zt={key:0,class:"requirement-item-spacer"},Jt=[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no Links for this requirement. ",-1)],Yt={key:1},Gt={class:"table"},Vt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",{width:"75%"},"Object Description"),(0,s._)("td",{width:"25%"},"Status")])],-1),Qt=["innerHTML"],Xt={class:"remove-link"},ei={key:2,class:"row submit-row"},ti={class:"col-md-12"},ii=(0,s._)("hr",null,null,-1),si=(0,s.Uk)(" Requirement Item Links "),li=(0,s._)("p",{class:"text-instructions"}," The following are links for the Items to other projects/tasks. ",-1),ni={key:3},oi=[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no Item Links. Please navigate to the Item you wish to add a link too. ",-1)],ai={key:4},ri={class:"table"},di=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",{width:"75%"},"Object Description"),(0,s._)("td",{width:"25%"},"Status")])],-1),ui=["innerHTML"],ci={name:"RequirementLinksModule",components:{Icon:Q.JO,NewRequirementLinkWizard:At},props:{activateLazyLoading:{type:Boolean,default:!1}},mixins:[xe.Z],data:()=>({linkResults:[],itemLinkResults:[],linkModel:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{extractObjectDescription(e){var t="ERROR",i="ERROR",s=`${this.rootUrl}`,l="";return null!==e.project_id?(t=e.project_id__project_name,i=`Project ${e.project_id}`,s=`${this.rootUrl}project_information/${e.project_id}`):null!==e.task_id&&(t=e.task_id__task_short_description,i=`Task ${e.task_id}`,s=`${this.rootUrl}task_information/${e.task_id}`),null!==e.requirement_item_id&&(l=`<p class="requirement-item-link-type">${e.requirement_item_id__requirement_item_title}</p>`,i=`${i} / Item ${e.requirement_item_id}`),`\n                    <a href="${s}">\n                        <p>\n                            ${t}\n                        </p>\n                        <div class="spacer"></div>\n                        ${l}\n                        <p class="requirement-link-type">\n                            ${i}\n                        </p>\n                    </a>\n                `},extractObjectStatus(e){var t="ERROR";return null!==e.project_id?t=e.project_id__project_status:null!==e.task_id&&(t=e.task_id__task_status),t},newRequirementLink(){new V.u_(document.getElementById("newRequirementLinkModal")).show()},removeLink(e){const t=new FormData;t.set("object_assignment_id",e),ee().post(`${this.rootUrl}object_data/delete_link/`,t).then((t=>{this.linkResults=this.linkResults.filter((t=>t.object_assignment_id!==e))}))},updateItemLinkResults(){ee().post("data/item_links/").then((e=>{this.itemLinkResults=e.data}))},updateLinkResults(){ee().post("data/links/").then((e=>{this.linkResults=e.data}))},updateModel(){this.updateLinkResults(),this.updateItemLinkResults()}},mounted(){this.updateModel()}},mi=(0,Ze.Z)(ci,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("new-requirement-link-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkIcon},null,8,["icon"]),Ft]),Kt,(0,s.kq)(" REQUIREMENT LINKS "),0===n.linkResults.length?((0,s.wg)(),(0,s.iD)("div",zt,Jt)):((0,s.wg)(),(0,s.iD)("div",Yt,[(0,s._)("table",Gt,[Vt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.linkResults,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.object_assignment_id},[(0,s._)("td",{innerHTML:o.extractObjectDescription(t)},null,8,Qt),(0,s._)("td",null,[(0,s.Uk)((0,E.toDisplayString)(o.extractObjectStatus(t))+" ",1),(0,s._)("span",Xt,[(0,s.Wm)(a,{icon:e.icons.trashCan,onClick:e=>o.removeLink(t.object_assignment_id)},null,8,["icon","onClick"])])])])))),128))])])])),(0,s.kq)(" Submit Button "),e.userLevel>1?((0,s.wg)(),(0,s.iD)("div",ei,[(0,s._)("div",ti,[(0,s._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>o.newRequirementLink&&o.newRequirementLink(...e))},"Create new Link")])])):(0,s.kq)("v-if",!0),ii,(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkIcon2},null,8,["icon"]),si]),li,(0,s.kq)(" ITEM LINKS "),0===n.itemLinkResults.length?((0,s.wg)(),(0,s.iD)("div",ni,oi)):((0,s.wg)(),(0,s.iD)("div",ai,[(0,s._)("table",ri,[di,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.itemLinkResults,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",{innerHTML:o.extractObjectDescription(e)},null,8,ui),(0,s._)("td",null,(0,E.toDisplayString)(o.extractObjectStatus(e)),1)])))),128))])])])),(0,s.kq)(" LINKING MODAL "),(0,s.kq)(" need to build something that resets the requirement links when adding links "),(0,s.Wm)(r,{"location-id":e.locationId,destination:"requirement",onUpdate_module:o.updateModel},null,8,["location-id","onUpdate_module"])])}]]);var pi=i(1317);const _i={class:"text-instructions"},bi={key:0,class:"requirement-item-spacer"},hi=[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no Links for this requirement. ",-1)],ki={key:1},gi={class:"row submit-row"},vi={class:"col-md-12"},yi=(0,s._)("hr",null,null,-1),wi={class:"modal fade",id:"newLinkModal",tabindex:"-1","aria-labelledby":"linkModal","aria-hidden":"true"},qi={class:"modal-dialog modal-lg"},fi={class:"modal-content"},Si={class:"modal-header"},Ii=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"linkCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})],-1),Li={class:"modal-body"},Di={class:"row"},ji={class:"col-md-4"},Ri=(0,s._)("strong",null,"Object Selector",-1),Mi={class:"text-instructions"},Ui={class:"col-md-8"},Ci={key:1,class:"alert alert-success"},Ti=(0,s._)("hr",null,null,-1),Oi={class:"row"},$i=(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Relationship"),(0,s._)("p",{class:"text-instructions"},' Please select an appropriate relation for the objects. Default is "Relates" ')],-1),xi={class:"col-md-8"},Ei=(0,s.Uk)(" Current object "),Bi=(0,s._)("br",null,null,-1),Ni=(0,s._)("hr",null,null,-1),Wi={class:"row"},Zi={class:"col-md-4"},Ai=(0,s._)("strong",null,"Select Links",-1),Pi={class:"text-instructions"},Hi={class:"col-md-8"},Fi={key:0,id:"link_wizard_results"},Ki=["src"],zi={key:1,class:"alert alert-warning"},Ji={key:2,class:"table"},Yi=(0,s._)("td",null,"Status",-1),Gi={key:0},Vi={class:"form-check"},Qi=["value","id"],Xi=["for"],es=(0,s._)("div",{class:"spacer"},null,-1),ts={class:"small-text"},is={key:1},ss={class:"form-check"},ls=["value","id"],ns=["for"],os=(0,s._)("div",{class:"spacer"},null,-1),as={class:"small-text"},rs={key:2},ds={class:"form-check"},us=["value","id"],cs=["for"],ms=(0,s._)("div",{class:"spacer"},null,-1),ps={class:"small-text"},_s={key:3},bs={class:"form-check"},hs=["value","id"],ks=["for"],gs=(0,s._)("div",{class:"spacer"},null,-1),vs={class:"small-text"},ys={class:"modal-footer"},ws=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),qs=["disabled"],fs={name:"NewLinkWizard",components:{Icon:Q.JO,NSelect:Te.Z},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,Ne.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[$e.Z,xe.Z],data:()=>({isSearching:!1,objectModel:null,objectRelation:[{value:"relates",label:"Relates To"},{value:"blocked_by",label:"Is Blocked By"},{value:"blocking",label:"Is Currently Blocking"},{value:"sub_object_of",label:"Is Sub Object Of"},{value:"parent_object_of",label:"Is Parent Object Of"},{value:"has_duplicate",label:"Has Duplicate Object Of"},{value:"duplicate_object",label:"Is Duplicate Object Of"}],objectRelationModel:"relates",objectResults:[],objectSelection:[{value:"Project",label:"Project"},{value:"Requirement",label:"Requirement"},{value:"Requirement_Item",label:"Requirement_Item"},{value:"Task",label:"Task"}],linkModel:[]}),methods:{saveLinks(){const e=new FormData;this.linkModel.forEach((t=>{e.append(`${this.objectModel.toLowerCase()}`,t)})),e.set("object_relation",this.objectRelationModel),ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_link/`,e).then((()=>{this.$emit("update_link_results",{}),this.objectModel=null,document.getElementById("linkCloseButton").click()}))}},watch:{objectModel(){this.linkModel=[],null!==this.objectModel?(this.isSearching=!0,ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/${this.objectModel.toLowerCase()}/link_list/`).then((e=>{this.objectResults=e.data,this.isSearching=!1})).catch((e=>{this.showErrorModal(e,this.destination)}))):this.isSearching=!1}}},Ss=(0,Ze.Z)(fs,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("n-select");return(0,s.wg)(),(0,s.iD)("div",wi,[(0,s._)("div",qi,[(0,s._)("div",fi,[(0,s._)("div",Si,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkOut},null,8,["icon"]),(0,s.Uk)(" New "+(0,E.toDisplayString)(i.destination)+" Link Wizard ",1)]),Ii]),(0,s._)("div",Li,[(0,s.kq)(" CHOOSING A OBJECT TYPE "),(0,s._)("div",Di,[(0,s._)("div",ji,[Ri,(0,s._)("p",Mi," Please select which object you would like to link to this "+(0,E.toDisplayString)(i.destination)+". ",1)]),(0,s._)("div",Ui,[n.isSearching?((0,s.wg)(),(0,s.iD)("div",Ci," Searching for "+(0,E.toDisplayString)(n.objectModel)+"s ",1)):((0,s.wg)(),(0,s.j4)(r,{key:0,options:n.objectSelection,value:n.objectModel,"onUpdate:value":t[0]||(t[0]=e=>n.objectModel=e),class:"object-selection"},null,8,["options","value"]))])]),Ti,(0,s.kq)(" CHOOSE RELATIONSHIP TYPE "),(0,s._)("div",Oi,[$i,(0,s._)("div",xi,[Ei,Bi,(0,s.Wm)(r,{options:n.objectRelation,value:n.objectRelationModel,"onUpdate:value":t[1]||(t[1]=e=>n.objectRelationModel=e),class:"object-selection",disabled:null===n.objectModel},null,8,["options","value","disabled"])])]),Ni,(0,s.kq)(" SELECTING WHICH OBJECTS TO LINK TO "),(0,s._)("div",Wi,[(0,s._)("div",Zi,[Ai,(0,s._)("p",Pi," Please select which of the objects you want to connect to this "+(0,E.toDisplayString)(i.destination)+". ",1)]),(0,s._)("div",Hi,[(0,s.kq)(" LOADING PLACEHOLDER "),n.isSearching||null==n.objectModel?((0,s.wg)(),(0,s.iD)("div",Fi,[(0,s._)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/search.svg`,alt:"Searching..."},null,8,Ki)])):(0,s.kq)("v-if",!0),0===n.objectResults.length&&null!=n.objectModel?((0,s.wg)(),(0,s.iD)("div",zi," Sorry - there are no results. ")):(0,s.kq)("v-if",!0),(0,s.kq)(" TABLE CONTAINING RESULTS "),!n.isSearching&&n.objectResults.length>0&&null!=n.objectModel?((0,s.wg)(),(0,s.iD)("table",Ji,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,(0,E.toDisplayString)(n.objectModel)+" Description",1),Yi])]),(0,s.kq)(" PROJECTS "),"Project"===n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",Gi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",Vi,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_project_${e.pk}`,"onUpdate:modelValue":t[2]||(t[2]=e=>n.linkModel=e)},null,8,Qi),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_project_${e.pk}`},(0,E.toDisplayString)(e.fields.project_name),9,Xi)]),es,(0,s._)("p",ts," Project "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.project_status),1)])))),128))])):(0,s.kq)("v-if",!0),(0,s.kq)(" TASKS "),"Task"===n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",is,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",ss,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_task_${e.pk}`,"onUpdate:modelValue":t[3]||(t[3]=e=>n.linkModel=e)},null,8,ls),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_task_${e.pk}`},(0,E.toDisplayString)(e.fields.task_short_description),9,ns)]),os,(0,s._)("p",as," Task "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.task_status),1)])))),128))])):(0,s.kq)("v-if",!0),(0,s.kq)(" REQUIREMENTS "),"Requirement"===n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",rs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",ds,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_requirement_${e.pk}`,"onUpdate:modelValue":t[4]||(t[4]=e=>n.linkModel=e)},null,8,us),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_requirement_${e.pk}`},(0,E.toDisplayString)(e.fields.requirement_title),9,cs)]),ms,(0,s._)("p",ps," Requirement "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.requirement_status),1)])))),128))])):(0,s.kq)("v-if",!0),(0,s.kq)(" REQUIREMENT ITEMS "),"Requirement_Item"===n.objectModel?((0,s.wg)(),(0,s.iD)("tbody",_s,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.objectResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.pk},[(0,s._)("td",null,[(0,s._)("div",bs,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:e.pk,id:`checkbox_requirement_item_${e.pk}`,"onUpdate:modelValue":t[5]||(t[5]=e=>n.linkModel=e)},null,8,hs),[[te.vModelCheckbox,n.linkModel]]),(0,s._)("label",{class:"form-check-label",for:`checkbox_requirement_item_${e.pk}`},(0,E.toDisplayString)(e.fields.requirement_item_title),9,ks)]),gs,(0,s._)("p",vs," Requirement Item "+(0,E.toDisplayString)(e.pk),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.fields.requirement_item_status),1)])))),128))])):(0,s.kq)("v-if",!0)])):(0,s.kq)("v-if",!0)])])]),(0,s._)("div",ys,[ws,(0,s._)("button",{type:"button",class:"btn btn-primary",disabled:0==n.linkModel.length,onClick:t[6]||(t[6]=(...e)=>o.saveLinks&&o.saveLinks(...e))}," Save changes ",8,qs)])])])])}]]);var Is=i(7794);const Ls={name:"ObjectLinks",components:{Icon:Q.JO,NewLinkWizard:Ss,SubObjectLinks:Is.Z},mixins:[xe.Z],data:()=>({linkResults:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{newLink(){new V.u_(document.getElementById("newLinkModal")).show()},updateLinkResults(){this.linkResults=[],ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/object_link_list/`).then((e=>{this.linkResults=e.data}))}},mounted(){setTimeout((()=>{this.updateLinkResults()}),200)}},Ds=(0,Ze.Z)(Ls,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("sub-object-links"),d=(0,s.up)("new-link-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.linkOut},null,8,["icon"]),(0,s.Uk)(" "+(0,E.toDisplayString)(e.destination)+" Links ",1)]),(0,s._)("p",_i," The following are links to other objects like projects/tasks/requirements. You can link a "+(0,E.toDisplayString)(e.destination)+" to these other objects to symbolise a connection between the two. ",1),(0,s.kq)(" OBJECT LINKS "),0==n.linkResults.length?((0,s.wg)(),(0,s.iD)("div",bi,hi)):((0,s.wg)(),(0,s.iD)("div",ki,[(0,s.kq)(" Relates To "),(0,s.Wm)(r,{title:"Relates To","link-results":n.linkResults.filter((e=>"Relate"===e.link_relationship))},null,8,["link-results"]),(0,s.kq)(" Is Blocked By "),(0,s.Wm)(r,{title:"Is Blocked By","link-results":n.linkResults.filter((t=>"Block"===t.link_relationship&&t.parent_link!==e.destination))},null,8,["link-results"]),(0,s.kq)(" Is Currently Blocking "),(0,s.Wm)(r,{title:"Is Currently Blocking","link-results":n.linkResults.filter((t=>"Block"===t.link_relationship&&t.parent_link===e.destination))},null,8,["link-results"]),(0,s.kq)(" Is Sub Object Of "),(0,s.Wm)(r,{title:"Is Subobject Of","link-results":n.linkResults.filter((t=>"Subobject"===t.link_relationship&&t.parent_link!==e.destination))},null,8,["link-results"]),(0,s.kq)(" Is Parent Object Of "),(0,s.Wm)(r,{title:"Is Parent Object Of","link-results":n.linkResults.filter((t=>"Subobject"===t.link_relationship&&t.parent_link===e.destination))},null,8,["link-results"]),(0,s.kq)(" Has Duplicate Object Of "),(0,s.Wm)(r,{title:"Has Duplicate Object Of","link-results":n.linkResults.filter((t=>"Duplicate"===t.link_relationship&&t.parent_link===e.destination))},null,8,["link-results"]),(0,s.kq)(" Is Duplicate Object Of "),(0,s.Wm)(r,{title:"Is Duplicate Object Of","link-results":n.linkResults.filter((t=>"Duplicate"===t.link_relationship&&t.parent_link!==e.destination))},null,8,["link-results"])])),(0,s.kq)(" Submit Button "),(0,s._)("div",gi,[(0,s._)("div",vi,[e.userLevel>1?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>o.newLink&&o.newLink(...e))},"Create new Link")):(0,s.kq)("v-if",!0)])]),yi,(0,s.kq)(" MODAL FOR NEW OBJECT LINKS "),(0,s.Wm)(d,{destination:e.destination,"location-id":e.locationId,onUpdate_link_results:o.updateLinkResults},null,8,["destination","location-id","onUpdate_link_results"])])}]]),js=(0,s.Uk)(" Customers"),Rs={class:"text-instructions"},Ms={key:0},Us=[(0,s._)("div",{class:"customers-module-spacer"},[(0,s._)("div",{class:"alert alert-dark"}," Sorry - there are no customers. Please add them by clicking on the button below ")],-1)],Cs={key:1},Ts=(0,s._)("hr",null,null,-1),Os={class:"row submit-row"},$s={class:"col-md-12"};var xs=i(7115);const Es={class:"modal fade",id:"addCustomerModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Bs={class:"modal-dialog modal-lg"},Ns={class:"modal-content"},Ws={class:"modal-header"},Zs=(0,s.Uk)(" Add Customers Wizard "),As=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addCustomerCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})],-1),Ps={class:"modal-body"},Hs={key:0,class:"row"},Fs={class:"col-md-4"},Ks=(0,s._)("strong",null,"Select Customer",-1),zs={class:"text-instructions"},Js={class:"col-md-8"},Ys={key:1,class:"row"},Gs=(0,s._)("div",{class:"col-md-6"},[(0,s._)("strong",null,"Sorry - no results"),(0,s._)("p",{class:"text-instructions"}," This could be because "),(0,s._)("ul",{class:"text-instructions"},[(0,s._)("li",null,"There are no more customers left to add"),(0,s._)("li",null," There are no customers for this organisation ")])],-1),Vs={class:"col-md-6 no-search"},Qs=["src"],Xs={class:"modal-footer"},el=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),tl=["diabled"],il=i(9669),sl={name:"AddCustomerWizard",components:{Icon:Q.JO,NSelect:Te.Z},props:{destination:{type:String,default:""},locationId:{type:Number,default:0},excludeCustomers:{type:Array,default:()=>[]}},computed:{...(0,Ne.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[$e.Z,xe.Z],data:()=>({customerModel:"",customerList:[],customerFixList:[]}),methods:{addCustomer(){const e=new FormData;e.set("customer",this.customerModel),il.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_customer/`,e).then((e=>{this.$emit("update_customer_results",e.data),this.customerModel="",document.getElementById("addCustomerCloseButton").click()})).catch((e=>{this.showErrorModal(e,this.destination)}))},getCustomerList(){il.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/customer_list_all/`).then((e=>{this.customerList=e.data,this.updateCustomerFixList()})).catch((e=>{this.showErrorModal(e,this.destination)}))},updateCustomerFixList(){if(0!==this.customerList.length){var e=[];this.excludeCustomers.forEach((t=>{e.push(t.pk)})),this.customerFixList=this.customerList.filter((t=>!e.includes(t.pk))).map((e=>({value:e.pk,label:`${e.fields.customer_first_name} ${e.fields.customer_last_name}`})))}}},mounted(){!["requirement_item"].indexOf(this.locationId)<0||setTimeout((()=>{this.getCustomerList()}),200)},watch:{excludeCustomers(){this.updateCustomerFixList()}}},ll=(0,Ze.Z)(sl,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("n-select");return(0,s.wg)(),(0,s.iD)("div",Es,[(0,s._)("div",Bs,[(0,s._)("div",Ns,[(0,s._)("div",Ws,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.usersIcon},null,8,["icon"]),Zs]),As]),(0,s._)("div",Ps,[n.customerFixList.length>0?((0,s.wg)(),(0,s.iD)("div",Hs,[(0,s._)("div",Fs,[Ks,(0,s._)("p",zs," Search for a customer who has not been added to this "+(0,E.toDisplayString)(i.destination)+". If the search is blank there are either no customers that match that search, or all customer have already been added to the "+(0,E.toDisplayString)(i.destination)+". ",1)]),(0,s._)("div",Js,[(0,s.Wm)(r,{options:n.customerFixList,label:"customerName",value:n.customerModel,"onUpdate:value":t[0]||(t[0]=e=>n.customerModel=e)},null,8,["options","value"])])])):((0,s.wg)(),(0,s.iD)("div",Ys,[Gs,(0,s._)("div",Vs,[(0,s._)("img",{src:`${e.staticUrl}NearBeach/images/placeholder/questions.svg`,alt:"Sorry - there are no results"},null,8,Qs)])]))]),(0,s._)("div",Xs,[el,(0,s._)("button",{type:"button",class:"btn btn-primary",diabled:""==n.customerModel,onClick:t[1]||(t[1]=(...e)=>o.addCustomer&&o.addCustomer(...e))}," Save changes ",8,tl)])])])])}]]),nl=i(9669),ol={name:"CustomersModule",components:{AddCustomerWizard:ll,CustomersListModule:xs.Z,Icon:Q.JO},mixins:[$e.Z,xe.Z],data:()=>({customerResults:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",userLevel:"getUserLevel",rootUrl:"getRootUrl"})},methods:{addNewCustomer(){new V.u_(document.getElementById("addCustomerModal")).show()},loadCustomerResults(){nl.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/customer_list/`).then((e=>{this.customerResults=e.data})).catch((e=>{this.showErrorModal(e,this.destination)}))},updateCustomerResults(e){this.customerResults=e}},mounted(){["requirement_item"].indexOf(this.destination)>=0||setTimeout((()=>{this.loadCustomerResults()}),200)}},al=(0,Ze.Z)(ol,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("customers-list-module"),d=(0,s.up)("add-customer-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.userIcon},null,8,["icon"]),js]),(0,s._)("p",Rs," Below are a list of customers who are stakeholders to this "+(0,E.toDisplayString)(e.destination)+". ",1),(0,s.kq)(" CUSTOMER RESULTS CARDS "),0==n.customerResults.length?((0,s.wg)(),(0,s.iD)("div",Ms,Us)):((0,s.wg)(),(0,s.iD)("div",Cs,[(0,s.Wm)(r,{"customer-results":n.customerResults},null,8,["customer-results"])])),(0,s.kq)(" ADD CUSTOMER BUTTON "),Ts,(0,s._)("div",Os,[(0,s._)("div",$s,[e.userLevel>1?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>o.addNewCustomer&&o.addNewCustomer(...e))}," Add Customer ")):(0,s.kq)("v-if",!0)])]),(0,s.kq)(" MODALS "),(0,s.Wm)(d,{"location-id":e.locationId,destination:e.destination,"exclude-customers":n.customerResults,onUpdate_customer_results:t[1]||(t[1]=e=>o.updateCustomerResults(e))},null,8,["location-id","destination","exclude-customers"])])}]]),rl=(0,s.Uk)(" Bugs List"),dl={class:"text-instructions"},ul={key:0,class:"spacer"},cl={class:"alert alert-dark"},ml={key:1},pl={class:"table"},_l=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td",null,"Bug Description"),(0,s._)("td",null,"Status")])],-1),bl=["href"],hl=(0,s._)("div",{class:"spacer"},null,-1),kl={class:"small-text"},gl={key:0,class:"remove-link"},vl=(0,s._)("hr",null,null,-1),yl={class:"row submit-row"},wl={class:"col-md-12"},ql={class:"modal fade",id:"addBugModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},fl={class:"modal-dialog modal-xl modal-fullscreen-lg-down"},Sl={class:"modal-content"},Il={class:"modal-header"},Ll=(0,s.Uk)(" Add Bugs Wizard "),Dl=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"addBugsCloseButton"},[(0,s._)("span",{"aria-hidden":"true"})],-1),jl={class:"modal-body"},Rl={class:"row"},Ml={class:"col-md-4"},Ul=(0,s._)("strong",null,"Adding Bugs",-1),Cl={class:"text-instructions"},Tl={class:"col-md-8"},Ol={class:"form-group"},$l=(0,s._)("label",null,"Bug Client",-1),xl=(0,s._)("br",null,null,-1),El={class:"form-group"},Bl=(0,s._)("label",null,"Search Keywords",-1),Nl=["disabled"],Wl=(0,s._)("br",null,null,-1),Zl={key:0,class:"no-search"},Al=(0,s._)("strong",null,"Currently Searching for Bugs",-1),Pl=(0,s._)("br",null,null,-1),Hl=["src"],Fl={key:1,class:"no-search"},Kl=(0,s._)("strong",null,"No Search Results Sorry",-1),zl=(0,s._)("br",null,null,-1),Jl=["src"],Yl={key:2,id:"bug_results_div"},Gl={class:"table"},Vl=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("td"),(0,s._)("td",null,"Bug Description"),(0,s._)("td",null,"Bug Status")])],-1),Ql=["id"],Xl=["onClick"],en=(0,s._)("div",{class:"spacer"},null,-1),tn={class:"small-text"},sn={class:"small-text"},ln=(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1),nn={name:"AddBugWizard",components:{Icon:Q.JO,NSelect:Te.Z},props:{destination:{type:String,default:""},locationId:{type:Number,default:0}},computed:{...(0,Ne.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[$e.Z,xe.Z],data:()=>({bugClientModel:"",bugClientList:[],bugResults:[],searchModel:"",searchOn:!1,searchTimer:""}),methods:{loadBugClientList(){ee().post(`${this.rootUrl}object_data/bug_client_list/`).then((e=>{this.bugClientList=e.data.map((e=>({value:e.pk,label:e.fields.bug_client_name})))}))},startSearchTimer(){""!=this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{this.startSearch()}),700)},startSearch(){if(""===this.searchModel)return;this.searchOn=!0;const e=new FormData;e.set("bug_client_id",this.bugClientModel),e.set("search",this.searchModel),ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/query_bug_client/`,e).then((e=>{this.bugResults=e.data,this.searchOn=!1})).catch((e=>{this.showErrorModal(e,this.destination)}))},submitBug(e){var t=document.getElementById(`bug_no_${e}`);t.innerHTML="Adding Bug";var i=this.bugResults.filter((t=>t.id==e));const s=new FormData;s.set("bug_client",this.bugClientModel),s.set("bug_id",e),s.set("bug_description",i[0].summary),s.set("bug_status",i[0].status),ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/add_bug/`,s).then((e=>{this.$emit("append_bug_list",e.data),t.innerHTML="Done"})).catch((e=>{this.showErrorModal(e,this.destination)}))}},mounted(){["requirement_item"].indexOf(this.destination)>=0||setTimeout((()=>{this.loadBugClientList()}),200)}},on={name:"BugsModule",components:{AddBugWizard:(0,Ze.Z)(nn,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("n-select");return(0,s.wg)(),(0,s.iD)("div",ql,[(0,s._)("div",fl,[(0,s._)("div",Sl,[(0,s._)("div",Il,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.usersIcon},null,8,["icon"]),Ll]),Dl]),(0,s._)("div",jl,[(0,s._)("div",Rl,[(0,s._)("div",Ml,[Ul,(0,s._)("p",Cl," Select which bug client you want to search data from. Then use keywords or bug id to search for the required bugs. Once the search results appear, select those appropriate bugs that you want to link to the "+(0,E.toDisplayString)(i.destination)+". ",1)]),(0,s._)("div",Tl,[(0,s.kq)(" Bug Client List "),(0,s._)("div",Ol,[$l,(0,s.Wm)(r,{options:n.bugClientList,label:"bug_client_name",option:"bug_client_id",value:n.bugClientModel,"onUpdate:value":t[0]||(t[0]=e=>n.bugClientModel=e)},null,8,["options","value"])]),xl,(0,s.kq)(" Search Keywords "),(0,s._)("div",El,[Bl,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchModel=e),class:"form-control",disabled:""==n.bugClientModel,onKeydown:t[2]||(t[2]=(...e)=>o.startSearchTimer&&o.startSearchTimer(...e)),maxlength:"50"},null,40,Nl),[[te.vModelText,n.searchModel]])]),Wl,(0,s.kq)(" The Search Results "),n.searchOn?((0,s.wg)(),(0,s.iD)("div",Zl,[Al,Pl,(0,s._)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/online_connection.svg`,alt:"Placeholder Search Image"},null,8,Hl)])):0==n.bugResults.length?((0,s.wg)(),(0,s.iD)("div",Fl,[Kl,zl,(0,s._)("img",{src:`${e.staticUrl}/NearBeach/images/placeholder/road_to_knowledge.svg`,alt:"Placeholder Search Image"},null,8,Jl)])):((0,s.wg)(),(0,s.iD)("div",Yl,[(0,s._)("table",Gl,[Vl,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.bugResults,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",{id:`bug_no_${e.id}`},[(0,s._)("a",{href:"javascript:void(0)",onClick:t=>o.submitBug(e.id)}," Add Bug ",8,Xl)],8,Ql),(0,s._)("td",null,[(0,s.Uk)((0,E.toDisplayString)(e.summary)+" ",1),en,(0,s._)("p",tn," Assigned to: "+(0,E.toDisplayString)(e.assigned_to),1),(0,s._)("p",sn," Bug No. "+(0,E.toDisplayString)(e.id)+" | Priority. "+(0,E.toDisplayString)(e.priority),1)]),(0,s._)("td",null,(0,E.toDisplayString)(e.status),1)])))),128))])])]))])])]),ln])])])}]]),Icon:Q.JO},mixins:[$e.Z,xe.Z],data:()=>({bugList:[]}),computed:{...(0,Ne.Se)({destination:"getDestination",locationId:"getLocationId",userLevel:"getUserLevel",rootUrl:"getRootUrl"})},methods:{addNewBug(){new V.u_(document.getElementById("addBugModal")).show()},appendBugList(e){let t=e[0].fields;t.bug_id=e[0].pk,this.bugList.push(t)},getBugHyperLink:e=>"Bugzilla"==e.bug_client__list_of_bug_client__bug_client_name?`${e.bug_client__bug_client_url}/show_bug.cgi?id=${e.bug_code}`:"javascript:void(0)",getBugList(){"requirement_item"!==this.destination&&ee().post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/bug_list/`).then((e=>{this.bugList=[],e.data.forEach((e=>{this.bugList.push(e)}))})).catch((e=>{this.showErrorModal(e,this.destination)}))},removeBug(e){const t=new FormData;t.set("bug_id",e),ee().post(`${this.rootUrl}object_data/delete_bug/`,t).then((()=>{this.bugList=this.bugList.filter((t=>t.bug_id!==e))}))}},mounted(){["requirement_item"].indexOf(this.destination)>=0||setTimeout((()=>{this.getBugList()}),200)}},an=(0,Ze.Z)(on,[["render",function(e,t,i,l,n,o){const a=(0,s.up)("Icon"),r=(0,s.up)("add-bug-wizard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h2",null,[(0,s.Wm)(a,{icon:e.icons.bugIcon},null,8,["icon"]),rl]),(0,s._)("p",dl," The following is a list of bugs associated with this "+(0,E.toDisplayString)(e.destination),1),(0,s.kq)(" TABLE OF BUGS "),0===n.bugList.length?((0,s.wg)(),(0,s.iD)("div",ul,[(0,s._)("div",cl," Sorry - there are no bugs associated with this "+(0,E.toDisplayString)(e.destination),1)])):((0,s.wg)(),(0,s.iD)("div",ml,[(0,s._)("table",pl,[_l,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.bugList,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.pk},[(0,s._)("td",null,[(0,s._)("a",{href:o.getBugHyperLink(t),rel:"noopener noreferrer",target:"_blank"},[(0,s._)("p",null,(0,E.toDisplayString)(t.bug_description),1),hl,(0,s._)("p",kl," Bug No. "+(0,E.toDisplayString)(t.bug_code)+" - "+(0,E.toDisplayString)(t.bug_client__bug_client_name),1)],8,bl)]),(0,s._)("td",null,[(0,s.Uk)((0,E.toDisplayString)(t.bug_status)+" ",1),e.userLevel>=2?((0,s.wg)(),(0,s.iD)("span",gl,[(0,s.Wm)(a,{icon:e.icons.trashCan,onClick:e=>o.removeBug(t.bug_id)},null,8,["icon","onClick"])])):(0,s.kq)("v-if",!0)])])))),128))])])])),(0,s.kq)(" Add Bug Button "),(0,s.kq)(" TO DO - limit it to certain users "),vl,(0,s._)("div",yl,[(0,s._)("div",wl,[e.userLevel>1?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-primary save-changes",onClick:t[0]||(t[0]=(...e)=>o.addNewBug&&o.addNewBug(...e))}," Add Bug ")):(0,s.kq)("v-if",!0)])]),(0,s.kq)(" Modals "),(0,s.Wm)(r,{destination:e.destination,"location-id":e.locationId,onAppend_bug_list:t[1]||(t[1]=e=>o.appendBugList(e))},null,8,["destination","location-id"])])}]]);var rn=i(8448),dn=i(2554);const un={name:"ParentModules",components:{BugsModule:an,CustomersModule:al,DocumentsModule:pi.Z,GroupsAndUsersModule:x.Z,MiscModule:rn.Z,NotesModule:dn.Z,ObjectLinks:Ds,RequirementItemLinksModule:Ht,RequirementItemsModule:He,RequirementLinksModule:mi},props:{destination:{type:String,default:""},locationId:{type:Number,default:0},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},userLevel:{type:Number,default:0}},data:()=>({}),methods:{},mounted(){this.$store.commit({type:"updateDestination",destination:this.destination,locationId:this.locationId}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel})}},cn=(0,Ze.Z)(un,[["render",function(e,t,i,x,E,B){const N=(0,s.up)("groups-and-users-module"),W=(0,s.up)("requirement-items-module"),Z=(0,s.up)("requirement-links-module"),A=(0,s.up)("requirement-item-links-module"),P=(0,s.up)("documents-module"),H=(0,s.up)("object-links"),F=(0,s.up)("customers-module"),K=(0,s.up)("bugs-module"),z=(0,s.up)("misc-module"),J=(0,s.up)("notes-module");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",n,[(0,s._)("ul",o,[(0,s.kq)(" GROUPS AND USERS "),(0,s.kq)(" Don't need to show to requirement items - as permissions are gained from parent requirement "),"requirement_item"!==i.destination?((0,s.wg)(),(0,s.iD)("li",a,r)):(0,s.kq)("v-if",!0),(0,s.kq)(" REQUIREMENT ITEMS "),"requirement"===i.destination?((0,s.wg)(),(0,s.iD)("li",d,u)):(0,s.kq)("v-if",!0),(0,s.kq)(" REQUIREMENT LINKS "),"requirement"===i.destination?((0,s.wg)(),(0,s.iD)("li",c,m)):(0,s.kq)("v-if",!0),(0,s.kq)(" REQUIREMENT ITEM LINKS "),"requirement_item"===i.destination?((0,s.wg)(),(0,s.iD)("li",p,_)):(0,s.kq)("v-if",!0),(0,s.kq)(" DOCUMENTS "),b,(0,s.kq)(" LINKED OBJECTS "),"requirement"!==i.destination&&"requirement_item"!==i.destination?((0,s.wg)(),(0,s.iD)("li",h,k)):(0,s.kq)("v-if",!0),(0,s.kq)(" CUSTOMERS "),(0,s.kq)(" Customers are not needed by requirement items as the parent requirements take care of this "),"requirement_item"!==i.destination?((0,s.wg)(),(0,s.iD)("li",g,v)):(0,s.kq)("v-if",!0),(0,s.kq)(" BUGS "),(0,s.kq)(" This module will only appear for project, task, and requirement "),["project","task","requirement"].includes(i.destination)?((0,s.wg)(),(0,s.iD)("li",y,w)):(0,s.kq)("v-if",!0),(0,s.kq)(" MISC "),q,(0,s.kq)(" Notes "),f]),S,(0,s._)("div",I,["requirement_item"!==i.destination?((0,s.wg)(),(0,s.iD)("div",L,[(0,s.Wm)(N)])):(0,s.kq)("v-if",!0),"requirement"==i.destination?((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(W)])):(0,s.kq)("v-if",!0),"requirement"==i.destination?((0,s.wg)(),(0,s.iD)("div",j,[(0,s.Wm)(Z)])):"requirement_item"==i.destination?((0,s.wg)(),(0,s.iD)("div",R,[(0,s.Wm)(A)])):(0,s.kq)("v-if",!0),(0,s._)("div",M,[(0,s.Wm)(P)]),(0,s._)("div",U,[(0,s.Wm)(H)]),(0,s._)("div",C,[(0,s.Wm)(F)]),(0,s._)("div",T,[(0,s.Wm)(K)]),(0,s._)("div",O,[(0,s.Wm)(z,{"location-id":i.locationId,destination:i.destination},null,8,["location-id","destination"])]),(0,s._)("div",$,[(0,s.Wm)(J)])])])])}]])},7794:(e,t,i)=>{i.d(t,{Z:()=>g});var s=i(6252),l=i(3577);const n={key:0},o={class:"col-md-10 object-link--details"},a=["href"],r={class:"object-link--link"},d={class:"object-link--title"},u={class:"col-md-2 object-link--status"},c=(0,s._)("span",null,"Object Status: ",-1),m={key:0,class:"object-link--remove"},p={key:1,class:"spacer-extra"};var _=i(4250),b=i(6542),h=i(5808);const k={name:"SubObjectLinks",components:{Icon:b.JO},mixins:[h.Z],props:{linkResults:{type:Array,default:()=>[]},title:{type:String,default:"Relates"}},computed:{...(0,_.Se)({destination:"getDestination",locationId:"getLocationId",rootUrl:"getRootUrl",userLevel:"getUserLevel"})},methods:{removeLink(e){let t=new FormData;t.set("link_id",e.object_id),t.set("link_connection",e.object_type===this.destination?"meta_object":e.object_type),axios.post(`${this.rootUrl}object_data/${this.destination}/${this.locationId}/remove_link/`,t).then((()=>{this.$emit("update_link_results")}))}}},g=(0,i(3744).Z)(k,[["render",function(e,t,i,_,b,h){const k=(0,s.up)("Icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.linkResults.length>0?((0,s.wg)(),(0,s.iD)("h3",n,(0,l.toDisplayString)(i.title),1)):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.linkResults,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.pk,class:"row object-link"},[(0,s.kq)(" Object ID + Title "),(0,s._)("div",o,[(0,s._)("a",{href:`${this.rootUrl}${t.object_type}_information/${t.object_id}/`,target:"_blank",rel:"noopener noreferrer"},[(0,s._)("div",r,(0,l.toDisplayString)(t.object_type)+" - "+(0,l.toDisplayString)(t.object_id),1),(0,s._)("div",d,(0,l.toDisplayString)(t.object_title),1)],8,a)]),(0,s.kq)(" Object Status "),(0,s._)("div",u,[c,(0,s._)("span",null,(0,l.toDisplayString)(t.object_status),1)]),(0,s.kq)(" Object Delete "),e.userLevel>=2?((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(k,{icon:e.icons.trashCan,onClick:e=>h.removeLink(t)},null,8,["icon","onClick"])])):(0,s.kq)("v-if",!0)])))),128)),i.linkResults.length>0?((0,s.wg)(),(0,s.iD)("div",p)):(0,s.kq)("v-if",!0)],64)}]])}}]);